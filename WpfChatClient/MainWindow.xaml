<Window x:Class="WpfChatClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chat Client"
        Height="500"
        Width="700"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Connection Panel -->
        <StackPanel Grid.Row="0"
                Orientation="Horizontal"
                Margin="10"
                Background="LightGray">
            <TextBlock Text="Server:"
                    VerticalAlignment="Center"
                    Margin="5"/>
            <TextBox x:Name="txtServer"
                    Width="120"
                    Height="25"
                    Text="192.168.137.1"
                    VerticalAlignment="Center"/>
            <TextBlock Text="Port:"
                    VerticalAlignment="Center"
                    Margin="5,0,5,0"/>
            <TextBox x:Name="txtPort"
                    Width="60"
                    Height="25"
                    Text="9000"
                    VerticalAlignment="Center"/>
            <TextBlock Text="Username:"
                    VerticalAlignment="Center"
                    Margin="5,0,5,0"/>
            <TextBox x:Name="txtUsername"
                    Width="100"
                    Height="25"
                    VerticalAlignment="Center"/>
            <Button x:Name="btnConnect"
                    Content="Connect"
                    Width="80"
                    Height="25"
                    Margin="5"
                    Click="BtnConnect_Click"/>
            <Button x:Name="btnDisconnect"
                    Content="Disconnect"
                    Width="80"
                    Height="25"
                    Margin="5"
                    Click="BtnDisconnect_Click"
                    IsEnabled="False"/>
        </StackPanel>

        <!-- Chat + User List -->
        <Grid Grid.Row="1"
                Margin="10,0,10,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Chat Messages -->
            <Border Grid.Column="0"
                    BorderBrush="Gray"
                    BorderThickness="1"
                    Margin="0,0,10,0">
                <ScrollViewer x:Name="scrollViewer"
                        VerticalScrollBarVisibility="Auto">
                    <TextBlock x:Name="txtMessages"
                            TextWrapping="Wrap"
                            Padding="10"
                               Background="White"
                            FontFamily="Segoe UI Emoji"
                            FontSize="12"/>
                </ScrollViewer>
            </Border>

            <!-- User List -->
            <Border Grid.Column="1"
                    BorderBrush="Gray"
                    BorderThickness="1">
                <StackPanel>
                    <TextBlock x:Name="lblUserCount"
                            Text="Users Online: 0"
                               FontWeight="Bold"
                            Background="LightGray"
                               Padding="5"/>
                    <ListBox x:Name="lstUsers"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Message Input -->
        <DockPanel Grid.Row="2"
                Margin="10,0,10,10">
            <Button x:Name="btnEmoji"
                    Content="😊"
                    DockPanel.Dock="Left"
                    Width="40"
                    Height="30"
                    Margin="0,0,5,0"
                    FontFamily="Segoe UI Emoji"
                    Click="BtnEmoji_Click"/>
            <Button x:Name="btnSendFile"
                    Content="Send File"
                    DockPanel.Dock="Right"
                    Width="90"
                    Height="30"
                    Margin="5,0,5,0"
                    Click="BtnSendFile_Click"
                    IsEnabled="False"/>
            <Button x:Name="btnSend"
                    Content="Send"
                    DockPanel.Dock="Right"
                    Width="80"
                    Height="30"
                    Margin="5,0,0,0"
                    Click="BtnSend_Click"
                    IsEnabled="False"/>
            <TextBox x:Name="txtMessage"
                    Height="30"
                     KeyDown="TxtMessage_KeyDown"
                     FontFamily="Segoe UI Emoji"
                     IsEnabled="False"/>
        </DockPanel>

        <!-- Status -->
        <StatusBar Grid.Row="3">
            <StatusBarItem>
                <TextBlock x:Name="lblStatus"
                        Text="Disconnected"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
